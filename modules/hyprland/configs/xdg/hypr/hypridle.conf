# Hypridle configuration (minimal + recommended hooks)
#
# This file configures hypridle to use hyprlock as the lock command and to
# integrate with systemd suspend via loginctl. Adjust timeouts to taste.

# Command to run to lock the screen
lock_cmd = "hyprlock"

# Called before suspend/hybrid-sleep/hibernate â€” lock early so resume is safe.
# IMPORTANT: `loginctl lock-session` alone does NOT start hyprlock on Hyprland.
# Launch hyprlock in the background so sleep isn't blocked.
before_sleep_cmd = "sh -c 'pgrep -x hyprlock >/dev/null || hyprlock &'"

# Called after resume so DPMS/globals are restored
after_sleep_cmd = "hyprctl dispatch dpms on"

# Idle listener: seconds until lock (example: 300 = 5 minutes)
listener {
  idle_timeout = 300
  idle_command = "hyprlock"
}

# You can add more listeners (notifications, screen off, suspend) as needed.
